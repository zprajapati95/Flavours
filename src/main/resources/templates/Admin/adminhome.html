<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Home</title>
    <link rel="stylesheet" type="text/css" th:href="@{/CSS/style.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/CSS/admin.css}">
</head>
<body>
    <th:block th:insert="adminfragments/header :: header"></th:block>

    <div class="welcome-header">
        <h1>Welcome, <span th:text="${username}" style="color: black;"></span></h1>
    </div>

    <!-- Dish Form -->
    <div class="form-container">
        <form id="dishForm" th:action="@{/admin/addDish}" method="post" enctype="multipart/form-data">
            <div class="dish-row">
                <div class="input-group">
                    <label for="dishName">Dish Name:</label>
                    <input type="text" id="dishName" name="name" required>
                </div>
                <div class="input-group">
                    <label for="category">Category:</label>
                    <select id="category" name="category" required>
                        <option value="Dinner Menu">Dinner Menu</option>
                        <option value="Lunch">Lunch</option>
                        <option value="Wine List">Wine List</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="image">Dish Image:</label>
                    <input type="file" id="image" name="image" accept="image/*" required>
                </div>
                <div class="input-group">
                    <label for="price">Price:</label>
                    <input type="number" id="price" name="price" step="5" required>
                </div>
                <div class="input-group">
                    <label for="description">Description:</label>
                    <textarea id="description" name="description" rows="2" required></textarea>
                </div>
                <div class="button-group">
                    <button type="submit" class="add-btn">Add Dish</button>
                </div>
            </div>
            <p th:text="${successMessage}"></p>
            <p th:text="${message}"></p> 
        </form>
    </div>

    <!-- Dish List Display Section -->
    
    <div class="dish-list-container">
    <h2>Dish List</h2>
    <div class="dish-items">
        <div th:each="dish : ${dishes}" class="dish-item">
            <div class="dish-details">
               <div class="dish-item-row">
    <p>Dish Name: <span th:text="${dish.name}"></span></p>
    <p>Category: <span th:text="${dish.category}"></span></p>
    <p>Price: $<span th:text="${dish.price}"></span></p>
    <p>Description: <span th:text="${dish.description}"></span></p>
    <img th:src="@{/upload/{imagePath}(imagePath=${dish.imagePath})}" alt="Dish Image" class="dish-image">

    <!-- Edit Button -->
    <button type="button" class="edit-btn">Edit</button>

    <!-- Delete Form -->
    <form th:action="@{/admin/deleteDish}" method="post" style="display:inline;">
        <input type="hidden" name="name" th:value="${dish.name}">
        <button type="submit" class="delete-btn">Delete</button> <!-- Added Delete Button -->
    </form>
</div>

            </div>
        </div>
    </div>
</div>


    <th:block th:replace="fragments/footer :: footer"></th:block>
</body>
</html>
